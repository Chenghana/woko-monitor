name: Hourly Global Cleanup

on:
  schedule:
    - cron: '0 * * * *' # â° æ¯å°æ—¶çš„ç¬¬0åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡
  workflow_dispatch:    # ğŸ‘† å…è®¸æ‰‹åŠ¨ç‚¹å‡»è¿è¡Œ

jobs:
  cleanup_old_runs:
    runs-on: ubuntu-latest
    permissions:
      actions: write
      contents: read
    steps:
      - name: Delete Old Workflow Runs
        uses: Mattraks/delete-workflow-runs@v2
        with:
          token: ${{ github.token }}
          repository: ${{ github.repository }}
          retain_days: 0       # ğŸ—“ï¸ ä¸ä¿ç•™ä»»ä½•å¤©æ•°çš„å†å² (åªçœ‹æ•°é‡)
          keep_minimum_runs: 5 # ğŸ”¢ æ ¸å¿ƒè®¾ç½®ï¼šåªä¿ç•™æœ€å 2 ä¸ªæˆåŠŸçš„/å¤±è´¥çš„è®°å½•
          # delete_workflow_pattern: "" # ç•™ç©ºä»£è¡¨æ¸…ç†æ‰€æœ‰ç±»å‹çš„å·¥ä½œæµ
