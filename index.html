<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Apple ID å…±äº« | ç‹¬äº«è´¦å·è´­ä¹°</title>
    
    <link rel="icon" href="https://www.apple.com/favicon.ico">

    <style> html { display: none; } </style>
    <script>
        if (window.location.hostname.includes('pages.dev')) {
            window.stop(); document.open(); document.write('Access Denied'); document.close(); throw new Error();
        } else {
            document.documentElement.style.display = 'block';
        }
    </script>
    
    <style>
        :root {
            --primary: #0071e3;
            --bg-color: #f5f5f7;
            --card-bg: #ffffff;
            --text-main: #1d1d1f;
            --text-sub: #86868b;
            --danger: #ff3b30;
            --success: #34c759;
            --gold: #FFD700;
            --radius: 16px;
            --shadow: 0 4px 20px rgba(0,0,0,0.04);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color); color: var(--text-main);
            margin: 0; padding: 0; -webkit-font-smoothing: antialiased; min-height: 100vh;
            padding-bottom: 90px;
        }

        .nav-bg {
            position: sticky; top: 0; z-index: 90;
            background: rgba(245, 245, 247, 0.95); backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0,0,0,0.05); padding: 15px 0; text-align: center;
        }
        .nav-title { font-weight: 700; font-size: 18px; }

        .container { max-width: 1000px; margin: 0 auto; padding: 20px 16px 0 16px; }

        /* ğŸ”¥ğŸ”¥ğŸ”¥ é»‘é‡‘ä»·ç›®è¡¨ (ä¿ç•™å°Šè´µæ ·å¼) ğŸ”¥ğŸ”¥ğŸ”¥ */
        .price-card {
            background: linear-gradient(135deg, #1c1c1e 0%, #2c2c2e 100%);
            border: 1px solid #FFD700;
            border-radius: var(--radius); padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px; /* å¢åŠ åº•éƒ¨é—´è· */
            position: relative; overflow: hidden;
            cursor: pointer;
        }
        .price-card::before {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 215, 0, 0.1), transparent);
            transform: rotate(45deg); animation: shine 3s infinite; pointer-events: none;
        }
        @keyframes shine { 0% { left: -100%; } 100% { left: 100%; } }

        .price-header { 
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; 
            font-size: 17px; font-weight: 800; color: #FFD700;
        }
        .price-header span { display: flex; align-items: center; gap: 6px; }
        .buy-hint { font-size: 12px; background: #FFD700; color: #000; padding: 4px 10px; border-radius: 20px; font-weight: bold; }

        .price-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .price-item {
            background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px; padding: 12px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            position: relative; overflow: hidden; transition: 0.2s;
        }
        .price-item:active { background: rgba(255, 215, 0, 0.2); transform: scale(0.98); }
        .price-tag { font-size: 13px; color: #eee; margin-bottom: 4px; font-weight: 500; }
        .price-val { font-size: 20px; font-weight: 800; color: #FFD700; font-family: 'SF Pro Display', sans-serif; text-shadow: 0 0 10px rgba(255, 215, 0, 0.3); }
        .hot-badge {
            position: absolute; top: 0; right: 0; background: #ff3b30; color: #fff;
            font-size: 10px; padding: 2px 8px; border-bottom-left-radius: 8px; font-weight: 800;
        }

        /* âš ï¸ è­¦ç¤ºæ  */
        .alert-card {
            background: #fff; border-radius: var(--radius); padding: 15px;
            box-shadow: var(--shadow); margin-bottom: 20px; border-left: 5px solid var(--danger);
        }
        .alert-grid { display: grid; gap: 8px; margin-top: 8px; }
        .alert-item { 
            display: flex; align-items: center; gap: 8px; font-size: 13px; color: #333; 
            background: #fff5f5; padding: 8px 10px; border-radius: 8px; font-weight: 500;
        }
        .alert-item.safe { background: #f2fcf5; color: #14532d; }

        /* ğŸ“– æ•™ç¨‹åŒº */
        .tutorial-area { margin-bottom: 25px; background: #fff; border-radius: var(--radius); box-shadow: var(--shadow); overflow: hidden; }
        .tutorial-header { padding: 15px; font-weight: 600; font-size: 14px; background: #fafafa; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .tutorial-content { padding: 15px; display: block; }
        .tutorial-img { width: 100%; border-radius: 8px; border: 1px solid #eee; margin-bottom: 10px; }

        /* ğŸŒ å¡ç‰‡åŒº */
        .section-header { display: flex; justify-content: space-between; align-items: end; margin-bottom: 15px; padding: 0 5px; }
        .section-title { font-size: 20px; font-weight: 700; }
        .update-badge { font-size: 12px; background: #e5e5ea; padding: 4px 10px; border-radius: 20px; color: var(--text-sub); }

        .grid-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; }

        .card {
            background: var(--card-bg); border-radius: var(--radius); padding: 20px;
            box-shadow: var(--shadow); position: relative; border: 1px solid rgba(0,0,0,0.02);
        }
        .card-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .region-badge { background: linear-gradient(135deg, #007aff, #0056b3); color: #fff; padding: 4px 10px; border-radius: 6px; font-size: 12px; font-weight: 700; }
        .status-badge { font-size: 12px; color: var(--success); font-weight: 500; }
        .status-error { color: var(--danger); }

        /* ğŸ‘‘ VIP å¡ç‰‡ */
        .card.vip-card {
            background: linear-gradient(145deg, #2b2b2b, #1a1a1a);
            border: 1px solid #ffd700; color: #fff; position: relative; overflow: hidden;
        }
        .card.vip-card::after {
            content: "æ¨è"; position: absolute; top: 0; right: 0;
            background: #ffd700; color: #000; font-size: 10px; padding: 2px 8px;
            border-bottom-left-radius: 8px; font-weight: bold;
        }
        .vip-title { font-size: 18px; font-weight: 800; color: #FCE38A; margin-bottom: 10px; }
        .vip-desc { font-size: 13px; color: #ccc; margin-bottom: 15px; line-height: 1.6; }
        .vip-features { display: flex; gap: 5px; margin-bottom: 15px; flex-wrap: wrap; }
        .vip-tag { font-size: 10px; background: rgba(252, 227, 138, 0.2); color: #FCE38A; padding: 2px 6px; border-radius: 4px; }
        .vip-btn {
            width: 100%; padding: 10px; background: linear-gradient(90deg, #FCE38A, #F38181);
            color: #333; border: none; border-radius: 8px; font-weight: 800; font-size: 14px;
            cursor: pointer; animation: pulse 2s infinite;
        }

        .field-group { margin-bottom: 12px; }
        .field-label { font-size: 11px; color: var(--text-sub); margin-bottom: 4px; font-weight: 500; }
        .input-wrapper { background: #f5f5f7; border-radius: 10px; display: flex; align-items: center; padding: 4px; border: 1px solid transparent; }
        .account-input { flex: 1; border: none; background: transparent; padding: 10px; font-family: 'SF Mono', monospace; font-size: 13px; outline: none; width: 100%; }
        
        .btn-copy { background: #fff; color: #1d1d1f; border: 1px solid #e5e5ea; padding: 6px 12px; border-radius: 8px; font-size: 12px; font-weight: 600; cursor: pointer; }
        .btn-copy.account-btn { color: #0071e3; border-color: #cce5ff; background: #f0f7ff; }
        .btn-copy.danger { color: #d70015; background: #fff5f5; border-color: #ffcccc; }

        /* ğŸŸ¢ åº•éƒ¨æ‚¬æµ®å¼•æµæ  */
        .float-bar {
            position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%);
            width: 92%; max-width: 400px;
            background: rgba(0,0,0,0.85); backdrop-filter: blur(10px);
            border-radius: 50px; padding: 5px;
            display: flex; align-items: center; justify-content: space-between;
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
            z-index: 2000; border: 1px solid rgba(255,255,255,0.1); cursor: pointer;
        }
        .float-text { color: #fff; font-size: 13px; font-weight: 600; margin-left: 15px; }
        .float-text span { color: #FCE38A; }
        .float-btn {
            background: #FCE38A; color: #000; border: none;
            padding: 10px 20px; border-radius: 40px; font-weight: 800; font-size: 13px;
        }

        /* å¼¹çª—åŠè”ç³»æ–¹å¼ */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); backdrop-filter: blur(10px); z-index: 3000; display: none; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.2s; }
        .modal-overlay.active { display: flex; opacity: 1; }
        .modal-box { background: #fff; width: 85%; max-width: 320px; border-radius: 20px; padding: 25px; text-align: center; box-shadow: 0 20px 60px rgba(0,0,0,0.3); transform: scale(0.9); transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1); }
        .modal-overlay.active .modal-box { transform: scale(1); }
        .modal-title { font-size: 18px; font-weight: 800; color: #1d1d1f; margin-bottom: 10px; }
        .modal-desc { font-size: 14px; color: #424245; margin-bottom: 20px; line-height: 1.5; }
        .modal-options { display: grid; gap: 12px; }
        .modal-btn { padding: 14px; border-radius: 12px; font-size: 15px; font-weight: 600; cursor: pointer; border: none; width: 100%; }
        .btn-primary { background: #0071e3; color: #fff; box-shadow: 0 4px 12px rgba(0,113,227,0.3); }
        .btn-secondary { background: #f5f5f7; color: #1d1d1f; border: 1px solid #d1d1d6; }
        .btn-vip { background: linear-gradient(90deg, #FCE38A, #F38181); color: #333; border: none; margin-top: 10px; font-weight: 800; }

        .contact-box { text-align: left; }
        .contact-row { display: flex; justify-content: space-between; align-items: center; background: #f9f9f9; padding: 15px; border-radius: 12px; margin-bottom: 10px; border: 1px solid #eee; }
        .contact-info { display: flex; flex-direction: column; }
        .contact-label { font-size: 12px; color: #999; }
        .contact-val { font-size: 16px; font-weight: 700; color: #333; margin-top: 2px; }
        .contact-action { background: #0071e3; color: #fff; padding: 6px 12px; border-radius: 6px; font-size: 12px; cursor: pointer; }
        .contact-action.qq { background: #12B7F5; }
        .contact-action.wx { background: #07C160; }

        .shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shake { 10%, 90% { transform: translate3d(-2px, 0, 0); } 20%, 80% { transform: translate3d(4px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-8px, 0, 0); } 40%, 60% { transform: translate3d(8px, 0, 0); } }

        .toast { position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.85); color: #fff; padding: 10px 20px; border-radius: 50px; font-size: 13px; font-weight: 500; opacity: 0; pointer-events: none; transition: 0.3s; z-index: 4000; }
        .toast.show { opacity: 1; }
        .toast.error { background: #ff3b30; }

        .img-modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); align-items: center; justify-content: center; }
        .img-modal img { max-width: 95%; max-height: 80vh; border-radius: 8px; }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.02); } 100% { transform: scale(1); } }
    </style>
</head>

<body>
    <div id="toast" class="toast">âœ… å·²å¤åˆ¶</div>

    <div class="container" style="padding-bottom: 0;">
        
        <div class="alert-card">
            <div style="font-weight:700; color:var(--danger); margin-bottom:10px;">âš ï¸ å¿…è¯»ï¼šä¸¥ç¦æ“ä½œ</div>
            <div class="alert-grid">
                <div class="alert-item">âŒ <strong>ä¸¥ç¦åœ¨ã€è®¾ç½®ã€‘ç™»å½• iCloud</strong></div>
                <div class="alert-item">âŒ <strong>ä¸¥ç¦ç»‘å®šè‡ªå·±çš„æ‰‹æœºå·</strong></div>
                <div class="alert-item safe">âœ… <strong>ç™»é™†è´¦å·å¯†ç åï¼Œè¯·ç‚¹å‡»ã€å…¶ä»–é€‰é¡¹ã€‘->ã€ä¸å‡çº§ã€‘</strong></div>
            </div>
        </div>

        <div class="tutorial-area">
            <div class="tutorial-header" onclick="toggleTutorial()">
                <span>ğŸ“– è¯¦ç»†æ•™ç¨‹ & æ•‘ç –æŒ‡å—</span>
                <span style="color:#0071e3;">ç‚¹å‡»å±•å¼€</span>
            </div>
            <div id="tutorial-body" class="tutorial-content">
                <div style="margin-bottom:20px;">
                    <div style="margin-bottom:30px;font-weight:600;color:#ff3b30;font-size:30px">1.çœ‹å®Œä¸‹å›¾èƒ½è§£å†³99%çš„ç™»é™†é—®é¢˜</div>
                    <div style="margin-bottom:30px;font-weight:600;color:#ff3b30;font-size:30px">2.ä¸¥ç¦åœ¨ã€è®¾ç½®ã€‘ç™»å½•(è¢«é”çš„éƒ½æ˜¯è ¢è´§)</div>
                    <img src="./guide.jpg" class="tutorial-img" onclick="openImage(this)" onerror="this.style.display='none'">
                </div>
                <div style="background:#f9f9fa; padding:15px; border-radius:10px; border:1px dashed #ccc;">
                    <div style="font-weight:700; font-size:25px; margin-bottom:5px;">ä¸‹è½½æç¤º "è´¦æˆ·è¢«ç¦ç”¨" ï¼Ÿ<br>æ›´æ–°è½¯ä»¶æç¤ºè¾“å…¥å¯†ç ï¼Ÿ</div>
                    <div style="font-size:30px;color:#ff3b30;">è¯·å¸è½½ App é‡æ–°ä¸‹è½½å³å¯ã€‚</div>
                    <img src="./xiezai.jpg" style="width:100%;margin-top:10px;border-radius:6px;" onclick="openImage(this)">
                </div>
            </div>
        </div>

        <div class="price-card" onclick="openContactModal()">
            <div class="price-header">
                <span><span style="color:#ff3b30">ğŸ”¥</span> ç‹¬äº«è´¦å·ä»·ç›®è¡¨(æ€§ä»·æ¯”)</span>
                <span class="buy-hint">ç‚¹å‡»è´­ä¹° ></span>
            </div>
            <div class="price-grid">
                <div class="price-item">
                    <span class="hot-badge">çƒ­é”€</span>
                    <span class="price-tag">ğŸ‡ºğŸ‡¸ ç¾åŒºç‹¬äº«</span>
                    <span class="price-val">Â¥10</span>
                </div>
                <div class="price-item">
                    <span class="price-tag">ğŸŒ å…¶ä»–åŒºç‹¬äº«</span>
                    <span class="price-val">Â¥12</span>
                </div>
                <div class="price-item">
                    <span class="price-tag">ğŸ‡°ğŸ‡· éŸ©åŒº17+æˆäººè®¤è¯</span>
                    <span class="price-val">Â¥20</span>
                </div>
                <div class="price-item">
                    <span class="price-tag">ğŸš€ å°ç«ç®­æˆå“å·ï¼ˆç¾åŒºï¼‰</span>
                    <span class="price-val">Â¥25</span>
                </div>
            </div>
        </div>

        <div class="section-header">
            <div class="section-title">ğŸŒ è´¦å·åˆ—è¡¨</div>
            <div id="status-tip" class="update-badge">è¿æ¥ä¸­...</div>
        </div>

        <div id="app-fan" class="grid-container">
            </div>
    </div>

    <div class="float-bar" onclick="openContactModal()">
        <div class="float-text">ä¸æƒ³å…±ç”¨ï¼Ÿ<span>ç‚¹å‡»è´­ä¹°ç‹¬äº«ID</span></div>
        <button class="float-btn">è”ç³»å®¢æœ</button>
    </div>

    <div id="accountModal" class="modal-overlay">
        <div class="modal-box">
            <div style="font-size:40px;margin-bottom:10px;">ğŸ“</div>
            <div class="modal-title">ä½ç½®ç¡®è®¤</div>
            <div class="modal-desc">
                è¯·ç¡®è®¤æ‚¨æ˜¯åœ¨ <strong>App Store</strong> ç™»å½•ã€‚<br>
                <span style="color:#ff3b30;font-size:12px;">(è®¾ç½®é‡Œç™»å½•ä¼š100%é”æœº)</span>
            </div>
            <div class="modal-options">
                <button class="modal-btn btn-primary" onclick="confirmAccountCopy()">æˆ‘å·²åœ¨ App Storeï¼Œç»§ç»­</button>
                <button class="modal-btn btn-secondary" onclick="closeModal('accountModal')">ç‚¹é”™äº†</button>
            </div>
        </div>
    </div>

    <div id="passwordModal" class="modal-overlay">
        <div class="modal-box" id="quizBox">
            <div style="font-size:40px;margin-bottom:10px;">âš ï¸</div>
            <div class="modal-title">æœ€åä¸€æ­¥</div>
            <div class="modal-desc">å¼¹å‡º <strong>"åŒé‡è®¤è¯"</strong> é€‰å“ªä¸ªï¼Ÿ</div>
            <div class="modal-options">
                <button class="modal-btn btn-primary" onclick="wrongAnswer()">ç»§ç»­ (Continue)</button>
                <button class="modal-btn btn-secondary" onclick="correctAnswer()">å…¶ä»–é€‰é¡¹ / ä¸å‡çº§</button>
                <button class="modal-btn btn-vip" onclick="openContactModal()">å¤ªéº»çƒ¦äº†ï¼Œæˆ‘è¦ä¹°ç‹¬äº«å· ğŸ‘‘</button>
            </div>
        </div>
    </div>

    <div id="contactModal" class="modal-overlay">
        <div class="modal-box contact-box">
            <div style="text-align:center; margin-bottom:20px;">
                <div style="font-size:40px;margin-bottom:10px;">ğŸ‘‘</div>
                <div class="modal-title">è·å–ç‹¬äº«è´¦å·</div>
                <div class="modal-desc">ä¸€äººä¸€å· Â· æ°¸ä¹…ä½¿ç”¨ Â· æ— éœ€ç­”é¢˜</div>
            </div>
            <div class="contact-row">
                <div class="contact-info">
                    <span class="contact-label">å¾®ä¿¡å’¨è¯¢ (ç‚¹å‡»å¤åˆ¶)</span>
                    <span class="contact-val" id="wxId">WAITING</span>
                </div>
                <div class="contact-action wx" onclick="copyContact('wx')">å¤åˆ¶</div>
            </div>
            <div class="contact-row">
                <div class="contact-info">
                    <span class="contact-label">QQå’¨è¯¢ (ç‚¹å‡»è·³è½¬)</span>
                    <span class="contact-val" id="qqId">WAITING</span>
                </div>
                <div class="contact-action qq" onclick="copyContact('qq')">è·³è½¬</div>
            </div>
            <button class="modal-btn btn-secondary" style="margin-top:15px;" onclick="closeModal('contactModal')">å…³é—­</button>
        </div>
    </div>

    <div id="imageModal" class="img-modal" onclick="this.style.display='none'">
        <img id="modalImg">
    </div>

    <script>
        // ğŸ‘‡ğŸ‘‡ğŸ‘‡ã€ä¿®æ”¹è”ç³»æ–¹å¼ã€‘ğŸ‘‡ğŸ‘‡ğŸ‘‡
        const CONTACT_CONFIG = {
            WECHAT: 'han91918888',
            QQ: '1656449384'
        };
        // ğŸ‘†ğŸ‘†ğŸ‘†

        const CONFIG = { 
            USER: 'ChengHana', GIST: 'e79ed4c61b1c7a5d37292b398ad11c36', FILE: 'fan.json' 
        };
        
        let tempText = ''; 

        window.onload = function() {
            initData();
            document.getElementById('wxId').innerText = CONTACT_CONFIG.WECHAT;
            document.getElementById('qqId').innerText = CONTACT_CONFIG.QQ;
        };

        async function initData() {
            const tip = document.getElementById('status-tip');
            const baseUrl = `https://gist.githubusercontent.com/${CONFIG.USER}/${CONFIG.GIST}/raw/`;
            try {
                const res = await fetch(`${baseUrl}${CONFIG.FILE}?t=${Date.now()}`);
                const json = await res.json();
                if (json.data) {
                    const time = json.updated_at ? new Date(json.updated_at).toLocaleTimeString() : 'åˆšåˆš';
                    tip.innerText = `ğŸ”„ ${time} Â· ${json.data.length}ä¸ªåœ¨çº¿`;
                    renderCards('app-fan', json.data);
                }
            } catch (err) { tip.innerText = "åŒæ­¥å¤±è´¥"; }
        }

        function renderCards(targetId, data) {
            const container = document.getElementById(targetId);
            
            // ğŸŸ¢ Woko ä¼˜å…ˆæ’åº
            data.sort((a, b) => {
                const aIsWoko = (a.checkTime || '').includes('Woko');
                const bIsWoko = (b.checkTime || '').includes('Woko');
                return bIsWoko - aIsWoko;
            });

            // ğŸ‘‘ VIP å¡ç‰‡ (ä½œä¸ºç¬¬ä¸€å¼ å¡ç‰‡)
            let html = `
            <div class="card vip-card">
                <div class="vip-title">ğŸ‘‘ è‹¹æœIDç‹¬äº«è´¦å·</div>
                <div class="vip-desc">å—å¤Ÿäº†å…±äº«å·é¢‘ç¹è¢«é¡¶ï¼Ÿæ¥ä¸ªç‹¬äº«çš„å§ï¼<br>ä¸€äººä¸€å· Â· å¯æ”¹å¯†ç  Â· ä¾¿å®œå¥½ç”¨<br>å”®åæ— å¿§ï¼ï¼ï¼</div>
                <button class="vip-btn" onclick="openContactModal()">ç‚¹å‡»è”ç³»è´­ä¹° (ç§’å‘è´§)</button>
            </div>`;

            data.forEach((item, index) => {
                const isNormal = item.status === "æ­£å¸¸";
                const statusHtml = isNormal ? `<span class="status-badge">â— æ­£å¸¸</span>` : `<span class="status-badge status-error">â— ${item.status}</span>`;
                const sourceTag = item.checkTime ? `<div style="text-align:right; font-size:10px; color:#ccc; margin-top:8px;">æ¥æº: ${item.checkTime}</div>` : '';

                html += `
                <div class="card" style="animation: fadeIn 0.5s ease backwards ${index * 0.05}s">
                    <div class="card-top"><span class="region-badge">${item.region||'å…¨çƒ'}</span>${statusHtml}</div>
                    <div class="field-group">
                        <div class="field-label">è´¦å· (éœ€ç¡®è®¤ä½ç½®)</div>
                        <div class="input-wrapper">
                            <input class="account-input" value="${item.username}" readonly onclick="startAccountFlow('${item.username}')">
                            <button class="btn-copy account-btn" onclick="startAccountFlow('${item.username}')">å¤åˆ¶</button>
                        </div>
                    </div>
                    <div class="field-group">
                        <div class="field-label">å¯†ç  (éœ€ç­”é¢˜éªŒè¯)</div>
                        <div class="input-wrapper">
                            <input class="account-input" value="${item.password}" readonly onclick="startPasswordFlow('${item.password}')">
                            <button class="btn-copy danger" onclick="startPasswordFlow('${item.password}')">å¤åˆ¶</button>
                        </div>
                    </div>
                    ${sourceTag}
                </div>`;
            });
            container.innerHTML = html;
        }

        // äº¤äº’é€»è¾‘
        function startAccountFlow(text) {
            tempText = text;
            document.getElementById('accountModal').classList.add('active');
        }
        function confirmAccountCopy() {
            closeModal('accountModal');
            performCopy(tempText);
            showToast('âœ… è´¦å·å·²å¤åˆ¶ï¼Œè¯·å» App Store ç™»å½•');
        }
        function startPasswordFlow(text) {
            tempText = text;
            document.getElementById('passwordModal').classList.add('active');
        }
        function wrongAnswer() {
            const box = document.getElementById('quizBox');
            box.classList.remove('shake'); void box.offsetWidth; box.classList.add('shake');
            showToast('âŒ é€‰é”™äº†ï¼ç‚¹[ç»§ç»­]ä¼šé”æœºï¼', true);
        }
        function correctAnswer() {
            closeModal('passwordModal');
            performCopy(tempText);
            showToast('âœ… å›ç­”æ­£ç¡®ï¼å¯†ç å·²å¤åˆ¶');
        }

        // è”ç³»æ–¹å¼
        function openContactModal() {
            closeModal('passwordModal');
            document.getElementById('contactModal').classList.add('active');
        }
        function copyContact(type) {
            if (type === 'wx') {
                performCopy(CONTACT_CONFIG.WECHAT);
                showToast('âœ… å¾®ä¿¡å·å·²å¤åˆ¶ï¼Œè¯·æ‰“å¼€å¾®ä¿¡æ·»åŠ ');
                setTimeout(() => { location.href = "weixin://"; }, 1500);
            } else if (type === 'qq') {
                const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                if (isMobile) {
                    location.href = `mqqwpa://im/chat?chat_type=wpa&uin=${CONTACT_CONFIG.QQ}&version=1&src_type=web&web_src=oicqzone.com`;
                } else {
                    location.href = `tencent://message/?uin=${CONTACT_CONFIG.QQ}&Site=oicqzone.com&Menu=yes`;
                }
            }
        }

        function closeModal(id) { document.getElementById(id).classList.remove('active'); }
        
        function performCopy(text) {
            if (!text) return;
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text);
            } else {
                let ta = document.createElement("textarea");
                ta.value = text; ta.style.position="fixed"; ta.style.left="-999px";
                document.body.appendChild(ta); ta.select(); document.execCommand('copy');
                document.body.removeChild(ta);
            }
        }

        function showToast(msg, isError = false) {
            const t = document.getElementById('toast');
            t.innerText = msg;
            t.className = isError ? 'toast show error' : 'toast show';
            setTimeout(() => t.className = 'toast', 2500);
        }

        function openImage(img) { document.getElementById('modalImg').src = img.src; document.getElementById('imageModal').style.display = 'flex'; }
        function toggleTutorial() { const b = document.getElementById('tutorial-body'); b.style.display = b.style.display==='none'?'block':'none'; }
        
        setInterval(initData, 60000); 
    </script>
    <style>@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }</style>
</body>
</html>
